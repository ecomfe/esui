<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>TextBox - ESUI Demo</title>
    <script src="../assets/loader/esl.js"></script>
    <script src="../../src/customShim.js"></script>
    <script src="../assets/jquery-1.9.1.min.js"></script>
    <script src="../assets/demo.js"></script>
    <script src="../assets/prism.js"></script>
    <!--[if lt IE 9]>
    <script src="http://xy3.baidu.com/js/html5.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="../assets/prism.css" />
    <link rel="stylesheet" href="../assets/demo.css" />
    <link rel="stylesheet" href="../../src/css/standard/main.css" />
</head>
<body>
    <h1>TextBox</h1>
    <div id="page">
        <ul id="navigator"></ul>
        <div id="main">
            <h2>多种模式</h2>
            <section class="intro">
                <p>文本框有3种模式：文本、密码、多行。</p>
            </section>
            <section class="view">
                <ul class="viewer">
                    <li class="view-markup">结构</li>
                </ul>
                <div class="example">
                    <div class="row">
                        <label for="text-box-normal">文本框</label>
                        <input id="text-box-normal"
                            data-ui-id="text-box-normal"
                            data-ui-type="TextBox"
                            data-ui-mode="text" />
                        <esui-text-box></esui-text-box>
                    </div>
                    <div class="row">
                        <label for="text-box-password">密码框</label>
                        <input id="text-box-password"
                            data-ui-id="text-box-password"
                            data-ui-type="TextBox"
                            type="password"
                            data-ui-mode="password" />
                        <esui-text-box data-ui-mode="password"></esui-text-box>
                    </div>
                    <div class="row">
                        <label for="text-box-textarea">多行文本框</label>
                        <textarea id="text-box-textarea"
                            data-ui-id="text-box-textarea"
                            data-ui-type="TextBox"
                            data-ui-mode="textarea"></textarea>
                        <esui-text-box data-ui-mode="textarea"></esui-text-box>
                    </div>
                </div>
            </section>
            <h2>前后缀提示</h2>
            <section class="intro">
                <p>使用<code>hint</code>和<code>hintType</code>属性灵活定义前后缀式的提示信息。</p>
            </section>
            <section class="view">
                <ul class="viewer">
                    <li class="view-markup">结构</li>
                </ul>
                <div class="example">
                    <div class="row">
                        <label for="text-box-prefix">您的博客：</label>
                        <input id="text-box-prefix"
                            data-ui-type="TextBox"
                            data-ui-hint="http://"
                            data-ui-hint-type="prefix" />
                    </div>
                    <div class="row">
                        <label for="text-box-suffix">宽度</label>
                        <input id="text-box-suffix"
                            data-ui-type="TextBox"
                            data-ui-hint="px"
                            data-ui-hint-type="suffix" />
                    </div>
                </div>
            </section>
            <h2>输入提示</h2>
            <section class="intro">
                <p>使用<code>placeholder</code>属性为文本框加上输入提示信息。</p>
            </section>
            <section class="view">
                <ul class="viewer">
                    <li class="view-markup">结构</li>
                </ul>
                <div class="example">
                    <input id="text-box-with-placeholder"
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-placeholder"
                        data-ui-type="TextBox"
                        data-ui-mode="text" />
                </div>
            </section>
            <h2>输入监听</h2>
            <section class="intro">
                <p>使用<code>input</code>事件监听输入的内容。</p>
            </section>
            <section class="view">
                <ul class="viewer">
                    <li class="view-markup">结构</li>
                    <li class="view-script">脚本</li>
                </ul>
                <div class="example">
                    <input id="text-box-with-input-listener"
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-input-listener"
                        data-ui-type="TextBox"
                        data-ui-mode="text" />
                    <label id="left-length-hint" for="text-box-with-input-listener">还可以输入40个字符</label>
                </div>
                <script>
                    ready(
                        function () {
                            var maxLength = 40;
                            var textbox = require('esui').get('text-box-with-input-listener');
                            var label = document.getElementById('left-length-hint');
                            textbox.on(
                                'input',
                                function () {
                                    var value = this.getValue();
                                    var leftLength = maxLength - value.length;
                                    if (leftLength > 0) {
                                        label.innerHTML = '还可以输入' + leftLength + '个字符';
                                        label.className = '';
                                    }
                                    else {
                                        label.innerHTML = '已经超出了' + (-leftLength) + '个字符';
                                        label.className = 'invalid';
                                    }
                                }
                            );
                        }
                    );
                </script>
                <pre class="source source-script"><code class="language-javascript">var maxLength = 40;
var textbox = require(&#039;esui&#039;).get(&#039;text-box-with-input-listener&#039;);
var label = document.getElementById(&#039;left-length-hint&#039;);
textbox.on(
    &#039;input&#039;,
    function () {
        var value = this.getValue();
        var leftLength = maxLength - value.length;
        if (leftLength &gt; 0) {
            label.innerHTML = &#039;&#x8fd8;&#x53ef;&#x4ee5;&#x8f93;&#x5165;&#039; + leftLength + &#039;&#x4e2a;&#x5b57;&#x7b26;&#039;;
            label.className = &#039;&#039;;
        }
        else {
            label.innerHTML = &#039;&#x5df2;&#x7ecf;&#x8d85;&#x51fa;&#x4e86;&#039; + (-leftLength) + &#039;&#x4e2a;&#x5b57;&#x7b26;&#039;;
            label.className = &#039;invalid&#039;;
        }
    }
);</code></pre>
            </section>
            <h2>状态</h2>
            <section class="intro">
                <p>显示验证信息。</p>
            </section>
            <section class="view">
                <ul class="viewer">
                    <li class="view-markup">结构</li>
                </ul>
                <div class="example">
                    <div class="row">
                        <label>出错</label>
                        <div 
                            placeholder="使用placeholder属性"
                            data-ui-id="text-box-with-invalid"
                            data-ui-type="TextBox"
                            data-ui-mode="text">
                            <input />
                        </div>
                    </div>
                    <div class="row">
                       <label>禁用</label>
                       <input disabled="disabled"
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-input-disabled"
                        data-ui-type="TextBox"
                        data-ui-mode="text" />
                    </div>
                    <div class="row">
                       <label>只读</label>
                       <input readonly="readonly"
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-input-readonly"
                        data-ui-type="TextBox"
                        data-ui-mode="text" />
                    </div>
                    <div class="row">
                       <label>成功</label>
                       <div class="ui-textbox-success"
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-input-success"
                        data-ui-type="TextBox"
                        data-ui-mode="text">
                       </div>
                    </div>
                    <div class="row">
                       <label>警告</label>
                       <div class="ui-textbox-warning"
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-input-warning"
                        data-ui-type="TextBox"
                        data-ui-mode="text">
                       </div>
                    </div>
                    <div class="row">
                       <label>焦点</label>
                       <div class="ui-textbox-focus"
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-input-focus"
                        data-ui-type="TextBox"
                        data-ui-mode="text">
                       </div>
                    </div>
                </div>
            </section>
            <h2>图标</h2>
            <section class="intro">
                <p>Textbox图标。</p>
            </section>
            <section class="view">
                <ul class="viewer">
                    <li class="view-markup">结构</li>
                </ul>
                <div class="example">
                    <div class="row">
                        <label>前置</label>
                        <div 
                            placeholder="使用placeholder属性"
                            data-ui-id="text-box-with-before"
                            data-ui-type="TextBox"
                            data-ui-mode="text"
                            data-ui-icon="icon icon-text"
                            data-ui-icon-position="right">
                        </div>
                    </div>
                    <div class="row">
                       <label>后置</label>
                       <input 
                        placeholder="使用placeholder属性"
                        data-ui-id="text-box-with-input-after"
                        data-ui-type="TextBox"
                        data-ui-mode="text"
                        data-ui-icon="icon icon-text"
                        />
                    </div>
                </div>
            </section>
        </div>
    </div>
    <script>
        require(
            [
                'esui',
                'esui/TextBox'
            ],
            function (ui) {
                ui.init();
                ui.get('text-box-with-invalid').showValidationMessage('invalid', '不能为空！');
                ui.get('text-box-with-input-after').on('iconclick', function (e) {
                    alert('hello');
                });
                ready();
            }
        );
    </script>
</body>
</html>
