/**
 * ESUI (Enterprise Simple UI)
 * Copyright 2013 Baidu Inc. All rights reserved.
 *
 * @file 下拉选择样式
 * @author dbear
 */

// Select
@esui-select-color: #fff;
@esui-select-background: @primary-color;
@esui-select-background-hover: lighten(@primary-color, 5%);
@esui-select-background-active: darken(@primary-color, 15%);
@esui-select-background-disabled: @button-background-disabled;
@esui-select-radius: @default-border-radius;
@esui-select-height: @esf-button-height;
@esui-select-line-height: @esf-button-height;
@esui-select-padding: 1em;
@esui-select-error-border-color: red;
@esui-select-error-text-color: red;

// Select-toolbar-style
@esui-select-color-toolbar-style: #666;
@esui-select-background-toolbar-style: #f1f1f1;
@esui-select-background-toolbar-style-hover: #e0e0e0;
@esui-select-background-toolbar-style-active: @esui-select-background-toolbar-style-hover;

// layer
@esui-select-layer-background: #f1f1f1;
@esui-select-layer-border: none;
@esui-select-item-color: #666;
@esui-select-item-hover-color: #666;
@esui-select-item-background-hover: #e1e1e1;
@esui-select-item-disabled-color: #d1d1d1;
@esui-select-item-selected-color: @primary-color;
@esui-select-item-background-selected: #e1e1e1;

.@{ui-class-prefix}-select {
    cursor: pointer;
    padding: 0 @esui-select-padding;
    outline: none;
    display: inline-block;
    position: relative;
    border-radius: @esui-select-radius;

    height: @esui-select-height;
    line-height: @esui-select-line-height;
    background: @esui-select-background;
    color: @esui-select-color;
    vertical-align: middle;
    .box-sizing(border-box);
    .transition(background-color 0.3s ease);
}

.@{ui-class-prefix}-select:hover,
.@{ui-class-prefix}-select:focus {
    background: @esui-select-background-hover;
}

.@{ui-class-prefix}-select.@{ui-class-prefix}-select-active,
.@{ui-class-prefix}-select:active {
    background: @esui-select-background-active;
}

.@{ui-class-prefix}-select-active {
    .@{ui-class-prefix}-select-arrow {
        .transform(rotate(180deg));
        .transition(transform 0.3s ease);
    }
}

.@{ui-class-prefix}-select-text {
    padding-right: 2em;
    display: block;
    .ellipsis();
}

.@{ui-class-prefix}-select-arrow {
    position: absolute;
    right: @esui-select-padding;
    top: 0;
    line-height: @esui-select-line-height !important;
}

.@{ui-class-prefix}-select-toolbar-style {
    color: @esui-select-color-toolbar-style;
    background: @esui-select-background-toolbar-style;
    &:hover,
    &:focus {
        background: @esui-select-background-toolbar-style-hover;
    }

    &.@{ui-class-prefix}-select-active,
    &:active {
        background: @esui-select-background-toolbar-style-active;
    }
}

.@{ui-class-prefix}-select-layer {
    overflow-x: hidden;
    *height: 13em;
    max-height: 13em;
    overflow-y: auto;

    .esf-dropdown-variant(
        @esui-select-layer-background,
        @esui-select-layer-border,
        @esui-select-item-color,
        @esui-select-item-hover-color,
        @esui-select-item-background-hover
    );
}

.@{ui-class-prefix}-select-item-disabled {
    .esf-disabled();
    &:hover {
        background: none;
    }
}

.@{ui-class-prefix}-select-item-selected > :first-child {
    background: @esui-select-item-background-selected;
    color: @esui-select-item-selected-color !important;

    &:hover {
        background: @esui-select-item-background-selected;
    }
}

.@{ui-class-prefix}-select.@{ui-class-prefix}-select-disabled {
    .esf-disabled();
}

.@{ui-class-prefix}-select.@{ui-class-prefix}-select-read-only,
.@{ui-class-prefix}-select.@{ui-class-prefix}-select-read-only:hover {
    background: @esui-select-background-disabled;
}

/** 验证 */
.@{ui-class-prefix}-select-validity-invalid {
    border: 1px solid @esui-select-error-border-color;
    margin-right: 1em;
}

.@{ui-class-prefix}-select-validity-label-invalid {
    color: @esui-select-error-text-color;
}

.@{ui-class-prefix}-textbox-wrapper {
    .esf-select-textbox-wrapper();
}

.esf-select-textbox-wrapper() when (@esui-select-radius > 0) {
    :first-child.@{ui-class-prefix}-select {
        .border-right-radius(0);
        border-right: 0;
    }
    :last-child.@{ui-class-prefix}-select {
        .border-left-radius(0);
        border-left: 0;
    }
    >.@{ui-class-prefix}-select {
        float: left;
    }
}

.esf-select-textbox-wrapper() {
    :first-child.@{ui-class-prefix}-select {
        border-right: 0;
    }
    :last-child.@{ui-class-prefix}-select {
        border-left: 0;
    }
    >.@{ui-class-prefix}-select {
        float: left;
    }
}

// compact variant select
@esui-select-compact-color: #333;
@esui-select-compact-background: @primary-bg-color;
@esui-select-compact-height: 1.5em;
@esui-select-compact-padding: .5em;

@esui-select-compact-layer-item-padding: .3em;
@esui-select-compact-layer-item-select-background: #FFFAED;
@esui-select-compact-layer-item-select-color: #333;
@esui-select-compact-layer-background: #F1F1F1;

.@{ui-class-prefix}-select-compact {
    padding: 0 @esui-select-compact-padding;
    background: @esui-select-compact-background !important;
    height: @esui-select-compact-height;
    line-height: @esui-select-compact-height;
    color: @esui-select-compact-color;

    .@{ui-class-prefix}-select-arrow {
        line-height: @esui-select-compact-height !important;
        right: @esui-select-compact-padding;
        .opacity(70);
        &:hover {
            .opacity(100);
        }
    }
}

.@{ui-class-prefix}-select-layer-compact {
    background: @esui-select-compact-layer-background;
    li :first-child {
        padding: @esui-select-compact-layer-item-padding;
    }
    .@{ui-class-prefix}-select-item-selected > :first-child {
        background: @esui-select-compact-layer-item-select-background;
        color: @esui-select-compact-layer-item-select-color !important;
    }
    .@{ui-class-prefix}-select {
        padding: 0 @esui-select-compact-padding;
        background: @esui-select-compact-background;
        height: @esui-select-compact-height;
        line-height: @esui-select-compact-height;
        color: @esui-select-compact-color;

        .@{ui-class-prefix}-select-arrow {
            line-height: @esui-select-compact-height !important;
            right: @esui-select-compact-padding;
        }
    }
}

